{% extends "base.html" %} {% load static %} {% block content %}
<div class="body flex-grow-1 px-3">
  <div class="container-lg">
    <div class="row">
      <div class="col-sm-6 col-lg-4"></div>
      
      <div class="col-sm-6 col-lg-4">
        <div class="card mb-4 text-white bg-info">
          <div
            class="card-body pb-0 d-flex justify-content-between align-items-start"
          >
          <div></div>
          <h2 class="text-center">Update Your Product</h2>
            <div></div>
            
          </div>
          <div class="c-chart-wrapper mt-3 mx-3" style="height: 20px">
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-lg-4"></div>

      <!-- /.col-->
    </div>

    <!-- /.row-->
    <div class="row">
      <div class="col-md-12">
        <div class="card mb-4">
            
            {% if messages %}
                <!-- Render a Bootstrap alert with the data -->
                {% for message in messages %}
                    {% if message.tags == 'success' %}
                        <div class="alert alert-success alert-dismissible fade show" role="alert">
                            <div class="fw-semibold">Product Updated !</div> {{ message }}
                            <button class="btn-close" type="button" data-coreui-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% elif message.tags == 'error' %}
                        <div class="alert alert-danger alert-dismissible fade show" role="alert">
                            <div class="fw-semibold">Product Not Updated !</div> {{ message }}
                            <button class="btn-close" type="button" data-coreui-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% endif %}
                {% endfor %}
                
            {% endif %}

            <div class="example">
                <ul class="nav nav-tabs" role="tablist">
                  <li class="nav-item"><a class="nav-link active" data-coreui-toggle="tab" href="#preview-1003" role="tab">
                      <svg class="icon me-2">
                        <use xlink:href= {% static "vendors/@coreui/icons/svg/free.svg" %}#cil-media-play></use>
                      </svg>Manual Update</a></li>

                </ul>
                <div class="tab-content rounded-bottom">
                  <div class="tab-pane p-3 active preview" role="tabpanel" id="preview-1003">
                    <form class="row g-3" method="post" action="{% url 'dashboard:update_product' query.name %}" enctype="multipart/form-data">
                        {% csrf_token %}
                      <div class="col-md-12">
                        <label class="form-label" for="productName">Product Name</label>
                        <input class="form-control" id="productName" type="text" name="productName" value={{ query.name }} required>
                      </div>
                      <div class="col-12"><label class="form-label" for="inputAddress">Prices</label></div>

                      {% comment %} price in USD {% endcomment %}
                      <div class="col-4">
                        <label class="visually-hidden" for="autoSizingInputGroup">Prices</label>
                        <div class="input-group">
                          <div class="input-group-text">$</div>
                          <input class="form-control" id="autoSizingInputGroup" type="number" min="1" step="any" placeholder="Price in USD" value={{ query.price.USD }} name= "price_usd" required>
                        </div>
                      </div>

                      {% comment %} price in XAF {% endcomment %}
                      <div class="col-4">
                        <label class="visually-hidden" for="autoSizingInputGroup">Prices</label>
                        <div class="input-group">
                          <div class="input-group-text">XAF</div>
                          <input class="form-control" id="autoSizingInputGroup" type="number" min="1" step="any" placeholder="Price in XAF" value={{ query.price.XAF }} name= "price_xaf" required>
                        </div>
                      </div>

                      {% comment %} price in GBP {% endcomment %}
                      <div class="col-4">
                        <label class="visually-hidden" for="autoSizingInputGroup">Prices</label>
                        <div class="input-group">
                          <div class="input-group-text">£</div>
                          <input class="form-control" id="autoSizingInputGroup" type="number" min="1" step="any" placeholder="Price in GBP" value={{ query.price.GBP }} name= "price_gbp" required>
                        </div>
                      </div>

                      {% comment %} price in EURO {% endcomment %}
                      <div class="col-4">
                        <label class="visually-hidden" for="autoSizingInputGroup">Prices</label>
                        <div class="input-group">
                          <div class="input-group-text">€</div>
                          <input class="form-control" id="autoSizingInputGroup" type="number" min="1" step="any" placeholder="Price in EURO" value={{ query.price.EUR }} name= "price_eur" required>
                        </div>
                      </div>

                      {% comment %} price in JPY {% endcomment %}
                      <div class="col-4">
                        <label class="visually-hidden" for="autoSizingInputGroup">Prices</label>
                        <div class="input-group">
                          <div class="input-group-text">¥</div>
                          <input class="form-control" id="autoSizingInputGroup" type="number" min="1" step="any" placeholder="Price in JPY" value={{ query.price.JPY }} name= "price_jpy" required>
                        </div>
                      </div>

                      <div class="col-6">
                        <label class="form-label" for="quantity">Quantity</label>
                        <input class="form-control" id="quantity" type="number" placeholder="Quantity" value={{ query.quantity }} name= "quantity" required>
                      </div>
                      <div class="col-6 mb-3">
                        <label class="form-label" for="formImage">Image</label>
                        <input class="form-control" id="formImage" type="file" name="image" required>
                      </div>
                      
                      <div class="mb-3">
                        <label class="form-label" for="FormControlTextarea">Product Description</label>
                        <textarea class="form-control" id="FormControlTextarea" rows="3" name="description" required>{{ query.description }}</textarea>
                      </div>
                      
                      {% comment %} <div class="col-12">
                        <div class="form-check">
                          <input class="form-check-input" id="gridCheck" type="checkbox">
                          <label class="form-check-label" for="gridCheck">Check me out</label>
                        </div>
                      </div> {% endcomment %}
                      <div class="col-12">
                        <button class="btn btn-primary" type="submit">Update Product</button>
                      </div>
                    </form>
                  </div>

                  
                </div>
            </div>
            
          </div>
        </div>
      </div>
      <!-- /.col-->
    </div>
    <!-- /.row-->
  </div>
</div>

{% endblock %} {% block JSscripts %}
<!-- CoreUI and necessary plugins-->
<script src= {% static "vendors/@coreui/coreui/js/coreui.bundle.min.js" %}></script> 
<script src= {% static "vendors/simplebar/js/simplebar.min.js" %}></script>
<!-- Plugins and scripts required by this view-->
<script src= {% static "vendors/chart.js/js/chart.min.js" %}></script>
<script src= {% static "vendors/@coreui/chartjs/js/coreui-chartjs.js" %}></script>
<script src= {% static "vendors/@coreui/utils/js/coreui-utils.js" %}></script>
<script src= {% static "js/main.js" %}></script>
<script src= {% static "js/table_js/jquery.min.js" %}></script>
<script src= {% static "js/table_js/popper.js" %}></script>
<script src= {% static "js/table_js/bootstrap.min.js" %}></script>
<script src= {% static "js/table_js/main.js" %}></script>
<script></script>
{% endblock %}
